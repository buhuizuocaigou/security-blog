https://academy.hackthebox.com/module/34/section/297
网络基础  的章节目录显示内容：
基础信息：
URL VS FQDN ：FQDN 进制定建筑物地址  
ISP 是总的IP报文的协调中心  他会在 落雨表中跟服务器中定位所在位置 并且返回对应的IP地址以确定具体的信息 

网络类型信息 ：
WAN 广域网  互联网
LAN  局域 内部网络
无线局域网  WLAN  通过wifi访问的内部网路
虚拟专用网络 VPN  将多个站点链接到一个局域网 LAN 中 

一  WAN 关于网  ：一般是多个LAN 的组合体 
就是能访问INTERNET的地址  
但是斌不包括internet  
识别 WAN的方法是 使用WAN特定的路由协议 （BGP等）
使用IP模式是否不在RFC 1918 
10.0.0.0/8
172.16.0.0/12
192.168.0.0/16内部发生的 

LAN ：与WLAN  分配指定用于本地IP地址的RFC 1918

VPN  三种类型的VPN  让用户误以为接入了不同的网路

站点到站点的VPN：客户端创建的虚拟接口  例如Openvpn 
形成一个TUN适配器 访问实验室   ，重点是加入VPN 创建的路由表 ，根据为什么传出VPN 而制定两种 
第一种 1 split-tunnel vpn 既为特定网络创建路由  表示INternet 不会传出VPN 
例如 10.0.0.0/24  
但是针对公司 不太行 因为如果感染了恶意软件的话 无法达成从网络的检测方法的检测 
SSL VPN  
网络浏览器的vpn  指的是将整个桌面回话传输的熬网络浏览器  例如 htb 的pwn box  在网络上用linux虚拟机等


GAN 全球区域网络   互联网
MAN 域域网    区域网络  多个LAN  
无线个人局域网  wpan    个人网络 蓝牙

GAN  ：  输个地区的关于网的 玻基础设施 
MAN ：款待你电信网络 链接LANd多个地理项链  同时实现互联网的高吞吐量
远程节点的传输速度相当于是 LAN  的速度

个域网 无限个欲望 
实现数据交换 可以通过PAN 的形式实现  WPAN 是PAN 的无线版本呢  利用蓝牙或者无线的USB技术


网络
网络设备中的典型布置跟物理连接  
 其决定了使用鼓组件以及传输介质访问方法  包括王阿洛机器 交换器 网桥 路由器灯设别 routers
 1 connect  
 同轴电缆   无线上网 
 玻璃光纤  封我  
 双绞线  卫星  
 其他 

2 节点 NIC 网络接口控制器 

罗预期 防火墙  

3 拓扑。 可能跟实际上物理不对应，只是一种想象的情况跟选项

Point to  point  ：
只有两台主机真实存在的物理链路 传统的电话架构  别跟Peer to peer p2p 弄混 

bus  ：所有主机通过总线连接 没中央网络组织控制 
这些主机有且仅有一台主机可以发送 其他主机得等待 
星星  ：
与所有主机保市场连接  每个主机通过单独的链路  
负责处理发送的数据包 

 
环形括朴 
网：决定了层级的物理跟裸游逻辑  
网状：
网格装用于wan 保证可靠度高跟带宽多 ，好处就是当一个机器报废后其他的也可以将诶折哟个  


树形



PRIXIES 代理 
中间商赚差价  ：中间设别必须能检查流量内容 

OSI 代理场子啊第七层运行 
分为如下几种代理 
1  dedicated  proxy  正向代理


Forward Proxy  客户端向计算机发出请求然后计算机执行请求 
目的是 从内网 借助代理访问到外面的internet 中 
默认呢地阿里 可能被 winsock 拦截   ，比如 edge 等寻常的浏览器 基础设置为默认代理功能

DNS 作为C2 的话可能 作为代理 的话 可以被 sysmon 捕获 
：https://medium.com/falconforce/sysmon-11-dns-improvements-and-filedelete-events-7a74f17ca842

正向代理 的话可能用的是burp做 


二 反向代理 
跟正向区别的是 他过滤的是传入的请求  
监听的某个地址 将其转发到封闭的网络   
攻击者某个思路 ：是 将侦听某个受感染的端口并且通过受感染的端口将连接到该端点任何客户转发到攻击者的方面 （绕过waf 逃避日志记录 ）
反向代理端口   如果对方采用的是IDS 监视外部请求 的话  攻击者通过ssh获得对组织的访问权限的话 
反向代理可通过ssh 隧道发送web请求并且申请逃避IDS 的方法 
另一种的话是：https://owasp.org/www-project-modsecurity-core-rule-set/ 这种防火墙的配置信息 

透明代理 或者非透明  
transparently  


连接到互联网的流浪首先被发送到代理处才可以再次发送到互联网中


MOD network
ISO OSI model 跟I票modie
![[Pasted image 20240927234134.png]]
OSI 七层 并且指明他们负责的内容
7 applicaiton   控制数据的输入输出并且提供应用程序功能
6 presentation  表示层任务是将系统功能相关数据表示转换为独立应用形式
5 session 会话层控制两个系统的逻辑连接，防止连接中断
4 transport 传输数据的端到端的控制，避免检测拥塞 
3 network 王阿洛岑个数据包在分组网络转发 
2data link ：核心任务截止实现可靠传输 
1 physical 物理层 的介质

在第三层 网络层中 有：控制数据包的交换 控制路由表 
常用的协议如下：
IPv4  IPv6   IP sec     ICMP  IGMP  RIP OSPF 

### IP 地址     
每台主机的MAC地址（身份证号） 进行数据交换  ，当进行跨网络的时候  MAC不行 得换为房间号地址 IP 号信息 

IPv4 IPv6是 收件人的地址跟区域 
MAC 是 接受者具体公寓跟楼层 

保证每个IP地址在每个网络内仅仅分配一次
### IPv4
32位的二进制数组成  
根据地址分为网段  主要的漏记如下 分为 A-E  
![[Pasted image 20240928103112.png]]
子网掩码  的作用就是 
区分这些当中哪些是主机部分 ，哪些是网络部分 
IP地址的默认网关功能，进行默认网络信息的书写 
### Broadcast  address  
广播地址 ： 负责向挖过来诺中所有参与者广播消息但是 不需要任何响应的消息信息 
主机会向四面八方发送主机包来 传达自己的信息参与度

CIDR 是表示方法 跨域的路由 取代了IPv4的地址固定分配 允许按地址分配空间  
使用CIDR 表示IPv4开头多少位属于网络，且他是子网掩码的位数表示的符号
CIDR是 子网掩码中所有的1 的总和体

### 子网划分 subnetting  子网划分 
子网是逻辑段有相同的IP地址  
分为 网络中的轮廓图如下：
network address  
broadcast address 
first host  
last host 
number of hosts


以 192.168.12.160/26进行子网划分为例子
/26揭示了从开头到末尾一共有多少个1进行划分 
并且在左后两位  
第四个8位上 有10  11 两种表现形式  从而  ![[Pasted image 20240928105847.png]]
前半部分是网络地址  后半部分是主机地址 
前半部分的 末尾是 10  主要是前24位 作为网络地址 号，而后面的全1   （子网掩码的全1 ）
注意是子网掩码部分的全1  一共26位信息  

当某一给IP地址的 所有的host part 部分设置为111全1 的话 是广播地址  
网络地址是全0  
所以一共的ip地址是 2的n-2个 
再次划分的时候 划分子网数是4 的话 他是2的2次方  所以需要有两个10010来表示信息 
128+64+32+16=192+32=224+16=240
32/4=8
29-24=5
11100000-11111000
11100000
11111
0。 8   16
MAC 地址：
一个主机有一个独一无二的MAC的地址  MAC 分为如下三类
以太网我
蓝牙 
无线局域网 
他是16禁止的mac地址  二进制被拆开成四个一组 的十六进制数字 
MAC 地址拆分  
对于mac地址而言  一共是6个byte 
![[Pasted image 20240928194540.png]]
分组  前三个为一组 后三个为一组  
然后 前半部分是 组织唯一的标识符  
不同的 IEEE 定义 
	后三个是 ： EF 13 37 这三个是  唯一序列号 整个地址是唯一的 
	
转发条件如下  
如果IP目标地址主机位于同一个子网  则直接将数据包传送到目标主机物理地址  
如果属于不同子网 的haul ，先发送到 MA