1 操作系统功能跟目标  系统资源管理者 
相当于软件跟逻辑之间的连接着 
2重点 作为管理者如何调度跟设计资源 
GUI 图形化用户接口 
用户跟 操作系统不断交互 通过其这种交互 不断进行相关项目以及 流程指令 
类型二 脱机命令接口 
3操作系统中，可以通过程序代码间接调用的系统接口  
4系统调用=广义指令 

操作系统四个 基本特征 
1 并发 2 共享 3 虚拟 4 异步  
四个特征 
并发：宏观  是同时发生  微观是交替发生的 
并发 伴随着同时多个 一起诞生 的 
单核 cpu 同一个时刻只能执行一个程序。所以 各个程序可以并发执行 
多核 的时候是 并行 执行   

2 共享特性 ：
资源共享 ，多个并发执行同时用 
互斥共享VS 同时共享 
同一个时间段 取决于 一个进程 或者多个进程“同时” 进行访问 


3虚拟性 ：
空分复用技术 ： 虚拟技术  这个 存储技术  就是假性  欺骗系统我实际上用这么多的cpu实
实际上 有一个单核cpu  但是 用户看 是 6个cpu在进行复用

空分复用 
时分复用

4异步性：
多个程序并发进行 而是断断续续 然后 去一次进行一点   
资源有限的话 导致的异步性  进行  挨个断断续续进行运行  


操作系统的发展与分类  ：

阶段一 ： 手工操作阶段
纯串行运行，很慢 太慢了   用户独占全机导致的是资源占用率极低 导致的 

阶段二 ：单道批处理系统  
引入 脱机输入 或者输出技术  ：提前存储  并且由监督程序负责作业的输入、输出  
提前输入 储备好 然后 进行处理
内存中同一个时刻仅能由一个程序运行 ，并且 cpu同一时刻只能处理一种程序  资源利用率很低 

阶段三：多道批处理系统 
读入多道 并且让他们并发运行   “阶梯式”效率比较高 ，同时 时间比较充裕等 
系统吞吐量大 很多 
并无人机交互，也就是 当用户提交作业后 无法中间干涉程序的运行的过程 

阶段四 分时操作系统  为了满足人机交互工鞥呢   
计算机以时间片 为各个单位轮流为各个用户作业服务 ，解决了人机交互的问题  
允许多个用户同时使用并且解决同一个计算机 系统

缺点：无法优先处理紧急任务  对各个用户公平

阶段四  实时操作系统  
要求计算机接收到外部信号及时处理，并且严格实现内处理   然后 保证及时性跟可靠性
硬实时 ：必须在严格时间内完成处理  一旦违背时间后  会 gg
软实时 ：偶尔可以出个问题



操作系统的运行机制 ：
应用程序 ：在操作系统之上面的  叫做应用程序 
内核程序 ：写内核程序的操作系统  内核 构成了操作系统的内核 ，简称为内核  
最接近硬件的部分  

如何判断是否是 内核程序 还是应用程序 
内核态 VS用户态  
root VS user
在PSW也就是程序状态字寄存器中 有一个二进制位 ：其中1 表示内核态 0表示用户态  
且内核态 =核心态 =管态     用户态=目态 


cpu中用户态转换为内核态  的 关键步骤  

1开机 内核态  cpou运行  
2 操作系统在内核陈故乡适合 事后在让出cpu 的话  用一条特权指令 把PSW 白哦职位 设置为“用户态 ”
3自己 是用户态 但是执行的是 内核态  
4当发现提权意识后，主动切换为核心态  去产生 中断信号 并使硬件自动完成变态的过程 问题 
但凡需要操作系统介入的时候会产生 中断信号！



关于中断 的作用 
操作系统的内核程序  起到了一个管理者的作用     负责进行操作系统调度等等功能内容 
“中断”是让操作系统内核夺回cpu使用权限的唯一的途径  功能 
执行 特权指令修改PSW的使其变为用户态的过程 


中断类型：
1 内中断：
中断信号来源于CPU内部 ，
关于陷入指令 ：当应用程序想请求操作系统内核的服务的时候 执行特殊指令 ---陷入指令  进行  
思考 
陷入指令：不是特权指令 ，主动将cpu控制权给操作系统内核    进行系统调用 

2外中断 ：与当前指令 无关 中断信号来源于 cpu外部的内容 
（1）时钟中断：由时钟部件发送的中断信号 
外部的中断时间片 利用这个外部信息来 左右内核态等内容的形成与生成的内容  
（2）I/O中断 ：输入输出设备的中断信号 
cpu在指令结束后会检查是否有外部指令 的运行 
内外 是相对于cpu本身而言的 
内中断 可能是 异常   外中断 是称为终端     
异常  ：由陷入指令 陷入的异常  ：想要请求与与程序故意引发的额 
故障 ：错误条件引起的 内核程序 修复故障后 会还原 
终止：直接致命错误 ，几句 直接 终止应用程序 直接终止 直接over  
当发生中断的时候会  直接周到中高端信号类型 去找 中断向量标的内容 

系统调用 VS库函数
系统调用 ： 操作系统 给APP使用的接口  
系统调用的 使用方式 比操作系统更底层的方式去 使用的接口 内容以及知识体系 系统 记性 学习 系统 封装调用功能
库函数 是 没有那么底层进行 调用  


凡是 跟共享资源有关的操作    必须通过系统调用的方式向操作系统内核 提出服务请求 ，保证 系统的稳定性跟安全性防止用户的非法操作的功能问题 
fork 类型 系统调用      看看参数的指令是设呢么     

申请请求 的时候 是 用户态 ，执行中断 的内容是在root态下进行运行的资源内容 


操作系统的体系结构   内核如何设计呢 
大内核 ：

![[Pasted image 20240829100410.png]]
大内核  微内核 是真需要再root 权限中执行的内容 

![[Pasted image 20240829100536.png]]



![[Pasted image 20240829101019.png]]
分层结构 ：
1逐层去 调试+验证 重点是每一层是 只会使用相邻那一层的功能跟相应的特性等问题 就可以了  千层饼 +射击靶子的套路  重点是无法跨层调用  ！！！


2模块化 各大部分模块进行特定的维护并且 进行 合理的接口 进行多模块同时进行开发  ，

操作系统 的 引导 boot：
开机的时候操作系统的运行的流程 也就是操作系统的引导 的内容 过程 
1





















